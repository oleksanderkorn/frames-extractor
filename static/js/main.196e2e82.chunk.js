(this["webpackJsonpframes-extractor"]=this["webpackJsonpframes-extractor"]||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),s=a.n(r),i=(a(62),a(39)),o=a(20),u=(a(63),a(28)),h=a.n(u),l=a(37),d=a(112),j=a(116),b=a(107),f=a(118),m=a(115),p=a(110),g=a(117),v=a(11),x=Object(b.a)((function(e){return Object(f.a)({root:{"& > *":{margin:e.spacing(1)}},images:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:e.spacing(16),height:e.spacing(16)}}})}));var O=function(){var e=Object(n.useState)(["https://sumer-dev-2.joystream.app/storage/asset/v0/5FuptcSboufhRcwxn8JE6MXLJtGfhBmFvP1bqwh3p3D4dYKc","https://sumer-dev-2.joystream.app/storage/asset/v0/5GKTQfWbwZAB8jga2VbwLZRSwfsjVBi4c2ZEH4LgRAT4MKft","https://sumer-dev-2.joystream.app/storage/asset/v0/5HEzeVFhsx4h2nGVLh5SLL5XR66mN51jdC59Crfpn5APpkxj","https://sumer-dev-2.joystream.app/storage/asset/v0/5FMGcHNAop6bDgHMSTS1waSHYz82mLP43KPSkdb5emQ9SLQ8","https://sumer-dev-2.joystream.app/storage/asset/v0/5EyvUgQjngCWwGN95pRrWrbAQsrh7pAYc87R9ASJX3eswVEc","https://video.keralalivestream.com/storage/asset/v0/5DqFvYRsTUGzsks3eoF5YANQy8r3c8J21CbppccXX9yeBadQ"]),t=Object(o.a)(e,1)[0],a=Object(n.useState)(t[0]),c=Object(o.a)(a,2),r=c[0],s=c[1],u=Object(n.useState)(1),b=Object(o.a)(u,2),f=b[0],O=b[1],w=Object(n.useState)(5),S=Object(o.a)(w,2),L=S[0],y=S[1],k=Object(n.useState)(!1),F=Object(o.a)(k,2),C=F[0],R=F[1],E=Object(n.useState)([]),P=Object(o.a)(E,2),N=P[0],T=P[1],A=x();return Object(n.useEffect)((function(){""!==r&&f>0&&L>0&&(R(!0),function(e,t,a){return new Promise(function(){var n=Object(l.a)(h.a.mark((function n(c){var r,s,i,o,u,d,j,b,f,m,p,g,v,x,O,w,S,L,y;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e).then((function(e){return e.blob()}));case 2:r=n.sent,s=URL.createObjectURL(r),(i=document.createElement("video")).addEventListener("seeked",Object(l.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&o();case 1:case"end":return e.stop()}}),e)})))),i.src=s;case 7:if(i.duration!==1/0&&!isNaN(i.duration)||!(i.readyState<2)){n.next=13;break}return n.next=10,new Promise((function(e){return setTimeout(e,1e3)}));case 10:i.currentTime=1e7*Math.random(),n.next=7;break;case 13:u=i.duration,d=document.createElement("canvas"),j=d.getContext("2d"),b=[i.videoWidth,i.videoHeight],f=b[0]/5,m=b[1]/5,p=4,d.width=f*a,d.height=m*p,g=1/t,v=0,x=a,O=0,w=0,S=0,L=0,y=[];case 30:if(!(v<u)){n.next=41;break}return i.currentTime=v,n.next=34,new Promise((function(e){return o=e}));case 34:j.drawImage(i,S,L,f,m),console.log("time[".concat(v,"] image [").concat(y.length,"] line[").concat(w,"] x[").concat(S,"] y[").concat(L,"] w[").concat(d.width,"] h[").concat(d.height,"]")),O<x-1?(S+=f,O+=1):(S=0,L+=m,O=0,w+=1),w===p?(w=0,console.log("push full image"),y.push(d.toDataURL()),j.clearRect(0,0,d.width,d.height),S=0,L=0):v+g>=u&&(console.log("push last image"),y.push(d.toDataURL())),v+=g,n.next=30;break;case 41:c(y);case 42:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(r,f,L).then((function(e){R(!1),T(e)})).catch((function(e){R(!1),console.error(e)})))}),[r,f,L]),Object(v.jsx)("div",{className:A.root,children:Object(v.jsxs)(p.a,{container:!0,spacing:3,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(v.jsxs)(p.a,{item:!0,xs:6,className:A.root,children:[Object(v.jsx)(d.a,{children:"Settings:"}),Object(v.jsx)(g.a,{freeSolo:!0,style:{width:"100%"},options:t,onChange:function(e,t,a,n){s(t||"")},onBlur:function(e){s((function(t){return t!==e.target.value?e.target.value:t}))},value:r,renderInput:function(e){return Object(v.jsx)(j.a,Object(i.a)(Object(i.a)({},e),{},{label:"Video src",variant:"filled"}))}}),Object(v.jsx)(j.a,{variant:"filled",fullWidth:!0,id:"fps",label:"FPS",value:f,onChange:function(e){var t=Number(e.target.value);O(t<1?1:t)}}),Object(v.jsx)(j.a,{variant:"filled",fullWidth:!0,id:"rowSize",label:"Frames Per Line",value:L,onChange:function(e){var t=Number(e.target.value);y(t<1?1:t)}}),Object(v.jsx)(m.a,{hidden:!C}),Object(v.jsx)(d.a,{hidden:0===N.length,children:"Extracted Frames:"})]}),Object(v.jsx)(p.a,{item:!0,xs:6,children:r&&Object(v.jsx)("video",{controls:!0,height:300,src:r})}),N.map((function(e,t){return Object(v.jsxs)(p.a,{item:!0,xs:12,children:[Object(v.jsxs)(d.a,{children:["Image ",t]}),Object(v.jsx)("img",{src:e,alt:"i-".concat(t)})]},t)}))]})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,119)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(O,{})}),document.getElementById("root")),w()}},[[72,1,2]]]);
//# sourceMappingURL=main.196e2e82.chunk.js.map